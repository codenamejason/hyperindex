/*
 * Please refer to https://docs.envio.dev for a thorough guide on all Envio indexer features
 */
import {
{{#each imported_contracts as |contract|}}
  {{contract.name.capitalized}}Contract,
{{#each contract.imported_events as |event|}}
  {{contract.name.capitalized}}_{{event.name.capitalized}}Entity,
{{/each}}
{{/each}}
} from "generated";
{{#each imported_contracts as |contract|}}
  {{#each contract.imported_events as |event|}}

{{contract.name.capitalized}}Contract.{{event.name.capitalized}}.handler(({ event, context }) => {
  const entity: {{contract.name.capitalized}}_{{event.name.capitalized}}Entity = {
    id: event.transactionHash + event.logIndex.toString(),
    {{#each event.params as |param|}}
    {{param.entity_key.uncapitalized}}: event.params.{{param.event_key.uncapitalized}}{{#if
      param.tuple_param_accessor_indexes
    }}
      {{#each param.tuple_param_accessor_indexes as |index|}}
        [{{index}}]
      {{/each}}
    {{/if}},
    {{/each}}
  };

  context.{{contract.name.capitalized}}_{{event.name.capitalized}}.set(entity);
});
  {{/each}}
{{/each}}
